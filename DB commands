grep address /usr/local/nagios/etc/hosts/* | tr / " " | awk '{print $NF " " $6}' | sed s/.cfg://g	All host with IP	 	 	 	 
egrep 'alias|address' /usr/local/nagios/etc/hosts/* | tr / " " | awk '{print $NF " " $6}' | sed s/.cfg://g	 	 	 	 	 
egrep 'hostgroup_name|host_name' /usr/local/nagios/etc/services/*	 	 	 	 	 
 	 	 	 	 	 
snmpwalk -v3  -l authPriv -u matwadminv3 -a SHA -A 8L6yVHfdwDXY -x AES -X 8L6yVHfdwDXY 172.26.43.201 1.3.6.1.4.1.14179.2.2.1.1	SNMP walk for wlc to find AP	 	 	OID for Status	1.3.6.1.4.1.14179.2.2.1.1.6
 	 	 	 	OID for Host name	1.3.6.1.4.1.14179.2.2.1.1.3
 	 	 	 	 	 
SELECT
    nsh.statehistory_id,
    nsh.instance_id,
    nsh.state_time,
    nsh.state_time_usec,
    nsh.object_id,
    nsh.state_change,
    nsh.state,
    nsh.state_type,
    nsh.current_check_attempt,
    nsh.max_check_attempts,
    nsh.last_state,
    nsh.last_hard_state,
    nsh.output,
    nsh.long_output,
    nh.alias AS hostname
FROM
    nagios_statehistory nsh
JOIN
    nagios_hosts nh ON nsh.object_id = nh.host_id
WHERE
    nsh.state_time >= '2025-02-19 00:00:00' AND nsh.state_time <= '2025-02-20 23:59:59'
ORDER BY
    nsh.state_time DESC
INTO OUTFILE '/var/lib/mysql-files/nagios_statehistory_with_hostname_2days.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n';
 db query for Nagios alert report: 
SELECT
    nsh.statehistory_id,
    nsh.instance_id,
    nsh.state_time,
    nsh.state_time_usec,
    nsh.object_id,
    nsh.state_change,
    nsh.state,
    nsh.state_type,
    nsh.current_check_attempt,
    nsh.max_check_attempts,
    nsh.last_state,
    nsh.last_hard_state,
    nsh.output,
    nsh.long_output,
    nh.alias AS hostname
FROM
    nagios_statehistory nsh
JOIN
    nagios_hosts nh ON nsh.object_id = nh.host_id
WHERE
    nsh.state_time >= '2025-02-19 00:00:00' AND nsh.state_time <= '2025-02-20 23:59:59'
ORDER BY
    nsh.state_time DESC
INTO OUTFILE '/var/lib/mysql-files/nagios_statehistory_with_hostname_2days.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n';
 db query for Nagios alert report: 
SELECT
    nsh.statehistory_id,
    nsh.instance_id,
    nsh.state_time,
    nsh.state_time_usec,
    nsh.object_id,
    nsh.state_change,
    nsh.state,
    nsh.state_type,
    nsh.current_check_attempt,
    nsh.max_check_attempts,
    nsh.last_state,
    nsh.last_hard_state,
    nsh.output,
    nsh.long_output,
    nh.alias AS hostname
FROM
    nagios_statehistory nsh
JOIN
    nagios_hosts nh ON nsh.object_id = nh.host_id
WHERE
    nsh.state_time >= '2025-02-19 00:00:00' AND nsh.state_time <= '2025-02-20 23:59:59'
ORDER BY
    nsh.state_time DESC
INTO OUTFILE '/var/lib/mysql-files/nagios_statehistory_with_hostname_2days.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n';
	db query for Nagios alert report:	 	 	 	 
/usr/local/nagios/var/archives	df -h for dirve space	 	 	 	 
 	 	 	 	 	 
/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg	Confige aply by putty	 	 	 	 
cd /usr/local/nagiosxi/scripts	 	 	 	 
./reconfigure_nagios.sh	 	 


=========================
db query for Nagios alert report: 
 
SELECT
    nsh.statehistory_id,
    nsh.instance_id,
    nsh.state_time,
    nsh.state_time_usec,
    nsh.object_id,
    nsh.state_change,
    nsh.state,
    nsh.state_type,
    nsh.current_check_attempt,
    nsh.max_check_attempts,
    nsh.last_state,
    nsh.last_hard_state,
    nsh.output,
    nsh.long_output,
    nh.alias AS hostname
FROM
    nagios_statehistory nsh
JOIN
    nagios_hosts nh ON nsh.object_id = nh.host_id
WHERE
    nsh.state_time >= '2025-02-19 00:00:00' AND nsh.state_time <= '2025-02-20 23:59:59'
ORDER BY
    nsh.state_time DESC
INTO OUTFILE '/var/lib/mysql-files/nagios_statehistory_with_hostname_2days.csv'
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n';
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 	 	 	 	 
 	 				
